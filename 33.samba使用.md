
FTP：应用层
TCP/IP ： 应用层
两台主机之间的所有交互，包括资源的请求和对资源的相应都是通过应用层报文来进行相应的

CIFS：Common Internet FileSystem
SMB：Service Message Block

Linux / Unix
NetBIOS：（WINNS）
Winbind
LDAP（Openldap）



Linux
NetBois
CIFS/SMB



NFS

SAMBA：存在的目的就是实现跨平台共享

137/udp （betbios）， 138/udp
139/tcp
445/tcp

samba 本身受selinux 控制，为了保证samba正常运行，需要先关闭selinux

SMB
samba



Client ------ Samba Server

系统用户， samba密码
安全级别：user
share



samba 可以关联另外一台服务器


Windows 访问：
UNC

\\IP\software
共享权限
文件系统权限


opennebula
|
|
|
D:\share\tools
Software
E:\test\web


宏：变量

[shared_name]

comment = 
path = 
browseble =
public = 
read only = 
writable = 
write_list = user1, user2, .... 
@group, +group

valid_users = 
invaild_users = 

/share/test

[tools]


[root@test .python]# testparm
	Load smb config files from /etc/samba/smb.conf
rlimit_max: increasing rlimit_max (1024) to minimum Windows limit (16384)
	Processing section "[homes]"
	Processing section "[printers]"
	Processing section "[tools]"
	Loaded services file OK.
	Server role: ROLE_STANDALONE
	Press enter to see a dump of your service definitions


	[root@test .python]# man smbpasswd
	[root@test .python]# smbpasswd -a eclips
	New SMB password:
	Retype new SMB password:
	Added user eclips.


	smbclinet         smb 客户端

	smbclient 
	-L Netbios Name
	-U USERNAME
	-T


	mount -t cifs //192.168.231.130/tools /mnt -o username=eclips                

	//192.168.231.130/tools /mnt                    cifs    credential=/etc/samba/cred.passwd 0 0


	新建一个共享： tools ， 开放给mygrp中的所有用户吗具有读写权限，其它用户只有读权限

	[share_name]

	public = yes
	write list = @mygrp

	[tools]
	comment = 
	path = 
	guest os = yes
	write list = @mygrp


	samba: 基于ip的访问控制
	iptables：
	139， 445
	137， 138

	samba
	hosts allow = 192.168.21. 127.            表示允许网段中的主机进行访问

	samba-swat
	web GUI


	yum -y install samba-3x-swat                    非独立进程


	守护进程
	standalone
	transient， 短暂

	xinetd                  901                 临时启动 ------- 转交请求

	service xinerd start




